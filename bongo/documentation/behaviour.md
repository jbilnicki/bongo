  
# **behaviour**

## -*- coding: utf-8 -*-

  
**Modules**

[cv2 ](https://pypi.org/project/opencv-python/)  

[pandas](https://pandas.pydata.org/docs/)  

[matplotlib.pyplot](https://matplotlib.org/stable/tutorials/pyplot.html)  

[pydoc](https://docs.python.org/3/library/pydoc.html)  

[re](https://docs.python.org/3/library/re.html)

  
**Classes**

[builtins.object](builtins.html#object)

[Detector](behaviour.md#Detector)

[Med_PC_Data_Extractor](behaviour.md#Med_PC_Data_Extractor)

---
  
### class  **Detector**([builtins.object](builtins.html#object))

[Detector](#Detector)(path, roi, animal_colour='dark', min_perimeter=120)  
  
Class implementing openCV to track 2 animals in the same time  

Methods defined here:  

**__init__**(self, path, roi, animal_colour='dark', min_perimeter=120)

path (string) path to a viedofile,  
animal_colour (string) "light" or "dark"  
is important during binarisation, so that [object](builtins.html#object) (an animal) is white  
and the background is black, default "dark"  
roi (list with four elements) stores coordinates for selecting part  
of the image  
min_perimeter (int) objects smaller than that will not be conssidered as an animal,  
default 120

**detect**(self)

Main function of the class that serves as engine for tracking system

**get_detections**(self)

function that stores data about tracked animals in pd.DataFrame

**plot_results**(self, detections_df, height, width)

Function uses matplotlib.pyplot to display trajectory of the animal  
detections_df - pd.DataFrame with coordinates of the animal's centroid  
height, width - int, size of the frame from video, plot will be scaled  
in a proper manner

----------

Data descriptors defined here:  

**__dict__**

dictionary for instance variables

**__weakref__**

list of weak references to the object

 ---
  
### class  **Med_PC_Data_Extractor**([builtins.object](builtins.html#object))

[Med_PC_Data_Extractor](#Med_PC_Data_Extractor)(file)  
  
Class for extracting data about infusion number, active/inactive lever presses and time spent by rat in Skinner box  
class takes as a source file generated by Med-PC IV software  
  
please be aware that this script is suited for very specific use case - analysis of lever presses in 6 hours oxycodone seeking rats.  
For analysis of different data changes in script (especially regular expressions) might be necessary  

Methods defined here:  

**__init__**(self, file)

file (string) - path to the file with raw data from MED-PC IV

**extract_data**(self, data)

function for extracting data from file in a proper manner

**find_sequence**(self, content, index, column, st)

find sequence starting from desired string and save it to proper row and column of DataFrame

**time_to_seconds**(self, time_str)

function takes time in format of h:min:s and converts it to value in seconds

----------

Data descriptors defined here:  

**__dict__**

dictionary for instance variables

**__weakref__**

list of weak references to the object
